<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Card do Pok√©mon</title>
<style>
body { 
    margin:0; 
    background:transparent; 
    font-family:sans-serif; 
    color:white; 
    overflow:hidden; 
}
.card { 
    background: linear-gradient(135deg,#667eea 0%,#764ba2 100%); 
    border-radius:12px; 
    padding:10px; 
    width:160px; 
    min-height:180px; 
    opacity:0; 
    transform:scale(0.9); 
    transition:opacity 0.25s, transform 0.25s;
    box-shadow: 0 8px 16px rgba(0,0,0,0.3);
}
.card.visible { 
    opacity:1; 
    transform:scale(1); 
}
.pokemon-name { 
    font-weight:bold; 
    text-align:center; 
    margin-bottom:6px;
    font-size: 1.1em;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}
.level { 
    text-align:center; 
    font-size:0.8em; 
    opacity:0.9; 
    margin-bottom:8px; 
}
.hp-bar,.xp-bar { 
    background:rgba(255,255,255,0.15); 
    border-radius:8px; 
    overflow:hidden; 
    margin:4px 0; 
}
.hp-bar-fill { 
    height:14px; 
    background:linear-gradient(90deg,#4ade80 0%,#22c55e 100%); 
    width:100%; 
    transition:width 0.3s; 
}
.xp-bar-fill { 
    height:6px; 
    background:linear-gradient(90deg,#fbbf24 0%,#f59e0b 100%); 
    width:0%; 
    transition:width 0.3s; 
}
.center-text { 
    text-align:center; 
    font-size:0.75em; 
    margin-top:2px; 
    opacity:0.9; 
}
.stat-row { 
    display:flex; 
    justify-content:space-between; 
    margin-top:4px; 
    font-size:0.8em; 
}
.stat-label {
    opacity: 0.85;
}
.stat-value {
    font-weight: bold;
}
</style>
</head>
<body>
<div class="card" id="card">
  <div class="pokemon-name" id="pokemonName">Carregando...</div>
  <div class="level" id="pokemonLevel">N√≠vel 1</div>
  <div class="hp-bar"><div class="hp-bar-fill" id="hpBarFill"></div></div>
  <div class="center-text" id="hpText">100/100</div>
  <div class="xp-bar"><div class="xp-bar-fill" id="xpBarFill"></div></div>
  <div class="center-text" id="xpText">0 / 100 XP</div>
  <div class="stat-row">
    <span class="stat-label">‚öîÔ∏è Ataque:</span>
    <span class="stat-value" id="attackValue">0</span>
  </div>
  <div class="stat-row">
    <span class="stat-label">üõ°Ô∏è Defesa:</span>
    <span class="stat-value" id="defenseValue">0</span>
  </div>
  <div class="stat-row">
    <span class="stat-label">‚ö° Velocidade:</span>
    <span class="stat-value" id="speedValue">0</span>
  </div>
</div>

<script>
const { ipcRenderer } = require('electron');
const card = document.getElementById('card');

ipcRenderer.on('update-stats', (e, data) => {
  console.log('[Card] Atualizando stats:', data);
  
  document.getElementById('pokemonName').textContent = data.name;
  document.getElementById('pokemonLevel').textContent = `N√≠vel ${data.level}`;
  
  const hpPercent = (data.hp / data.maxHp) * 100;
  document.getElementById('hpBarFill').style.width = `${hpPercent}%`;
  document.getElementById('hpText').textContent = `${data.hp}/${data.maxHp}`;
  
  const xpNeeded = data.level * 100;
  const xpPercent = (data.xp / xpNeeded) * 100;
  document.getElementById('xpBarFill').style.width = `${xpPercent}%`;
  document.getElementById('xpText').textContent = `${data.xp} / ${xpNeeded} XP`;
  
  document.getElementById('attackValue').textContent = data.attack;
  document.getElementById('defenseValue').textContent = data.defense;
  document.getElementById('speedValue').textContent = data.speed;
});

ipcRenderer.on('show-card', () => {
  card.classList.add('visible');
});

ipcRenderer.on('hide-card', () => {
  card.classList.remove('visible');
});
</script>
</body>
</html>